<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Attack - Snake Shooting Game</title>
    <style>
    body { margin: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #0a0a0a, #1a1a1a); color: #fff; overflow: hidden; }
    .btn { padding: 16px 24px; border: none; border-radius: 12px; font-size: 1.1rem; font-weight: bold; cursor: pointer; transition: all 0.3s ease; background: linear-gradient(45deg, #333, #555); color: #fff; box-shadow: 0 4px 12px rgba(0,0,0,0.3); }
    .btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(0,0,0,0.4); }
    .btn:active { transform: translateY(0); }
    canvas { border: 2px solid #00ff88; border-radius: 0 0 18px 18px; box-shadow: 0 4px 24px #00ff8844; background: #111; }
    #speedValue { color: #00ff88; font-weight: bold; min-width: 80px; display: inline-block; text-align: center; font-size: 1.3rem; }
    #wordInput { padding: 18px; border-radius: 14px; border: none; width: 100%; height: 340px; font-size: 1.3rem; margin-top: 16px; background: #181c24; color: #fff; box-shadow: 0 4px 18px #0088ff22; resize: vertical; }
    #setWordsBtn { margin-top: 18px; width: 100%; background: linear-gradient(45deg, #00ff88, #0088ff); color: #fff; font-size: 1.2rem; }
    #setWordsBtn:disabled { opacity: 0.5 !important; cursor: not-allowed !important; background: linear-gradient(45deg, #666, #888) !important; }
    #gameOver { display: none; color: #ff4444; font-size: 2rem; margin-top: 36px; }
    .container { display: flex; height: 100vh; align-items: center; justify-content: center; background: linear-gradient(135deg, #0a0a0a, #1a1a1a); }
    .controls { flex: 0 0 340px; display: flex; flex-direction: column; align-items: flex-end; gap: 38px; padding: 0 36px 0 0; }
    .arena { flex: 0 0 700px; display: flex; flex-direction: column; align-items: center; }
    .wordInputContainer { flex: 0 0 400px; display: flex; flex-direction: column; align-items: flex-start; gap: 38px; padding: 0 0 0 36px; }
    .infoStrip { width: 100%; background: rgba(0,0,0,0.7); border-radius: 18px 18px 0 0; box-shadow: 0 4px 24px #00ff8844; padding: 16px 12px; margin-bottom: 0; text-align: center; display: flex; flex-direction: column; gap: 8px; overflow: hidden; }
    .info-row-top { display: flex; justify-content: space-between; align-items: center; }
    .info-row-bottom { display: flex; justify-content: center; align-items: center; }
    .infoStrip span { color: #fff; font-size: 1.2rem; margin: 0 8px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 300px; }
    .word-display { font-size: 1.1rem !important; max-width: 400px !important; }
    .status-display { font-size: 1.0rem !important; max-width: 200px !important; }
    
    .letter-box {
        display: inline-block;
        width: 24px;
        height: 28px;
        text-align: center;
        line-height: 28px;
        margin: 0 1px;
        font-weight: bold;
        border-radius: 4px;
        color: #fff;
        transition: all 0.3s ease;
    }
    
    .eaten-letter { 
        background-color: #00ff88;
        color: #000;
        box-shadow: 0 2px 4px rgba(0, 255, 136, 0.3);
    }
    .nav-buttons {
        position: fixed;
        top: 20px;
        left: 20px;
        display: flex;
        gap: 10px;
        z-index: 1000;
    }
    .nav-btn {
        padding: 12px 20px;
        background: rgba(0,0,0,0.8);
        border: 2px solid #00ff88;
        border-radius: 10px;
        color: #00ff88;
        text-decoration: none;
        font-weight: bold;
        transition: all 0.3s ease;
        font-size: 0.9rem;
    }
    .nav-btn:hover {
        background: rgba(0,255,136,0.1);
        box-shadow: 0 4px 15px rgba(0,255,136,0.3);
        transform: translateY(-2px);
    }
    .game-instructions {
        background: rgba(255, 170, 0, 0.1);
        border: 1px solid #ffaa00;
        border-radius: 10px;
        padding: 15px;
        margin-bottom: 20px;
        font-size: 0.9rem;
        color: #ffaa00;
    }
    </style>
</head>
<body>
    <!-- Navigation Buttons -->
    <div class="nav-buttons">
        <a href="../index.html" class="nav-btn">üè† Main Menu</a>
        <a href="index.html" class="nav-btn">üéÆ Snake Games</a>
    </div>
    
    <div class="container">
        <!-- Left Controls -->
        <div class="controls">
            <div class="game-instructions">
                <strong>üéØ Python Attack Instructions:</strong><br>
                ‚Ä¢ Letters move around the screen<br>
                ‚Ä¢ Press SPACE to shoot bullets<br>
                ‚Ä¢ Bullets freeze moving letters<br>
                ‚Ä¢ Eat letters in word order<br>
                ‚Ä¢ Red=Moving, Orange=Frozen, Green=Eaten
            </div>
            <div style="background:rgba(0,0,0,0.5); border-radius:16px; box-shadow:0 2px 16px #00ff8844; padding:24px 18px; min-width:200px;">
                <label style="color:#fff; font-size:1.1rem; font-weight:bold;">Speed:
                    <input type="range" id="speedSlider" min="1" max="100" value="50" style="vertical-align:middle; width:120px; accent-color:#00ff88;">
                    <span id="speedValue" style="color:#00ff88; font-weight:bold; min-width:60px; display:inline-block; text-align:center;">10.25</span> <span style="color:#aaa; font-size:0.95em;">steps/sec</span>
                </label>
                <button class="btn" id="edgeBtn" style="margin-top:18px; width:100%; background:linear-gradient(45deg,#0088ff,#00ff88);color:#fff;">Edge: Pass Through</button>
                <button class="btn" id="startBtn" style="margin-top:18px; width:100%;">Play Game</button>
                <button class="btn" id="pauseBtn" style="display:none; margin-top:12px; width:100%; background:linear-gradient(45deg,#ffaa00,#ff8800);color:#fff;">Pause</button>
                <button class="btn" id="restartBtn" style="display:none; margin-top:12px; width:100%;">Restart</button>
            </div>
        </div>
        <!-- Game Arena Center -->
        <div class="arena">
            <div class="infoStrip">
                <div class="info-row-top">
                    <span id="wordStatus" class="status-display" style="color:#fff;"></span>
                    <span style="color:#fff; font-size:1.1rem;">Score: <span id="score">0</span></span>
                </div>
                <div class="info-row-bottom">
                    <span id="currentWord" class="word-display" style="color:#00ff88; font-weight:bold;"></span>
                </div>
            </div>
            <canvas id="gameCanvas" width="600" height="600"></canvas>
            
            <!-- Pause Modal -->
            <div id="pauseModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:1000; justify-content:center; align-items:center;">
                <div style="background:rgba(20,20,20,0.95); border-radius:20px; padding:40px; text-align:center; box-shadow:0 8px 32px rgba(0,255,136,0.3); border:2px solid #00ff88;">
                    <h2 style="color:#00ff88; margin:0 0 20px 0; font-size:2rem;">Game Paused</h2>
                    <p style="color:#fff; margin:0 0 30px 0; font-size:1.2rem;">Press ENTER or click Resume to continue</p>
                    <button class="btn" id="resumeBtn" style="background:linear-gradient(45deg,#00ff88,#0088ff); color:#fff; font-size:1.2rem; padding:12px 30px;">Resume Game</button>
                </div>
            </div>
            
            <!-- Game Over Modal -->
            <div id="gameOverPopup" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:1001; justify-content:center; align-items:center;">
                <div style="background:rgba(20,20,20,0.98); border-radius:20px; padding:50px; text-align:center; box-shadow:0 8px 32px rgba(0,255,136,0.4); border:2px solid #00ff88; max-width:600px; max-height:80vh; overflow-y:auto;">
                    <h2 id="gameOverTitle" style="margin:0 0 30px 0; font-size:2.5rem;">Game Over!</h2>
                    
                    <div style="background:rgba(0,0,0,0.3); border-radius:15px; padding:30px; margin:20px 0;">
                        <h3 style="color:#00ff88; margin:0 0 15px 0; font-size:1.5rem;">Final Score</h3>
                        <p style="color:#fff; font-size:2rem; font-weight:bold; margin:0;" id="finalScore">0</p>
                    </div>
                    
                    <div style="background:rgba(0,0,0,0.3); border-radius:15px; padding:30px; margin:20px 0;">
                        <h3 style="color:#00ff88; margin:0 0 15px 0; font-size:1.5rem;">Text Completed</h3>
                        <p style="color:#fff; font-size:1.1rem; line-height:1.6; margin:0; max-height:200px; overflow-y:auto; text-align:left; padding:10px; background:rgba(0,0,0,0.2); border-radius:8px;" id="completedText">No words completed</p>
                    </div>
                    
                    <div style="margin-top:30px; display:flex; gap:15px; justify-content:center;">
                        <button class="btn" id="playAgainBtn" style="background:linear-gradient(45deg,#00ff88,#0088ff); color:#fff; font-size:1.2rem; padding:15px 30px;">Play Again</button>
                        <button class="btn" id="closePopupBtn" style="background:linear-gradient(45deg,#666,#888); color:#fff; font-size:1.2rem; padding:15px 30px;">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Right: Word Input -->
        <div class="wordInputContainer">
            <div style="background:rgba(0,0,0,0.4); border-radius:16px; box-shadow:0 2px 16px #00ff8844; padding:24px 18px; min-width:220px; max-width:340px;">
                <label for="wordInput" style="color:#00ff88; font-size:1.1rem; font-weight:bold;">Words for Python Attack:</label>
                <p style="color:#aaa; font-size:0.9rem; margin:8px 0; font-style:italic;">Letters will move around! Shoot them with SPACE to freeze them.</p>
                <textarea id="wordInput" placeholder="Enter words (space or new line separated)" style="padding:14px; border-radius:10px; border:none; width:100%; height:340px; font-size:1.1rem; margin-top:10px; background:#181c24; color:#fff; box-shadow:0 2px 12px #0088ff22;">Human biology is the study of how the human body is built and how it works at every level, from the smallest cell to the most complex organ system. The body is made up of trillions of living cells, each performing specific functions to keep us alive. These cells form tissues, organs, and systems that work together in perfect coordination.The circulatory system carries blood throughout the body using the heart as a pump. Blood transports oxygen from the lungs and nutrients from food to every cell, while also removing carbon dioxide and waste. The respiratory system allows us to breathe in oxygen and breathe out carbon dioxide through the lungs and airways. The digestive system breaks down the food we eat into simpler substances like glucose, proteins, and fats that our cells can use for energy and growth.The nervous system, made of the brain, spinal cord, and nerves, acts like the bodys control center. It receives signals from sense organs and sends instructions to muscles and organs. The endocrine system works closely with it, using hormones to control growth, mood, and metabolism. The skeletal system provides structure and protects vital organs, while the muscular system allows movement and posture.The excretory system removes harmful wastes through organs like the kidneys, while the immune system defends the body from infections and diseases. The reproductive system ensures the continuation of life through reproduction.All these systems are interconnected, maintaining a state of balance called homeostasis, which keeps the bodys internal environment stable despite external changes. Human biology reveals the wonder of how every heartbeat, breath, and thought is part of an incredibly complex and beautifully designed living machine ‚Äî the human body.</textarea>
                <button class="btn" id="setWordsBtn" style="margin-top:14px; width:100%; background:linear-gradient(45deg,#00ff88,#0088ff);color:#fff;">Set Words</button>
            </div>
        </div>
    </div>

    <!-- Load game scripts -->
    <script src="../common-words.js"></script>
    <script src="snake-core.js"></script>
    <script src="python-attack-mode.js"></script>
    <script src="game-controls.js"></script>
    
    <script>
        // Initialize the Python Attack game
        let game, controls;
        
        window.addEventListener('DOMContentLoaded', () => {
            // Create game instance
            game = new PythonAttackMode('gameCanvas', 'score');
            
            // Create controls manager
            controls = new GameControls(game);
            
            // Make controls globally accessible for button state updates
            window.controls = controls;
            
            // Initialize everything
            controls.initialize();
            
            // Force button state update after a short delay to ensure proper initialization
            setTimeout(() => {
                controls.updateSetWordsButtonState();
            }, 100);
        });
    </script>
</body>
</html>